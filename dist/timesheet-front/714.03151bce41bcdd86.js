"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[714],{7714:(K,u,d)=>{d.r(u),d.d(u,{SedeModule:()=>W});var p=d(6019),v=d(1553),s=d(9133),c=d(5304),e=d(3668),f=d(4522),b=d(8260);let g=(()=>{class t{constructor(o){this.http=o,this.url=b.N.apiurl}listSede(o,n,a){let r=new f.LE;return r=r.append("page",o),r=r.append("size",n),r=r.append("nombre",a),r=r.append("sort","idSede,desc"),this.http.get(`${this.url}/api/sede/list`,{params:r})}saveSede(o){return this.http.post(`${this.url}/api/sede/save`,o)}updateSede(o){return this.http.put(`${this.url}/api/sede/update`,o)}deleteSede(o){return this.http.delete(`${this.url}/api/sede/delete/${o}`)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(f.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var C=d(9966),h=d(86),Z=d(9112),m=d(8167),S=d(138);function x(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es obligatorio "),e.qZA())}function A(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Descripcion es obligatorio "),e.qZA())}function q(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Direccion es obligatorio "),e.qZA())}function N(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Beacon es obligatorio "),e.qZA())}let _=(()=>{class t{constructor(o,n,a,r){this.dialogRef=o,this.data=n,this.apiService=a,this.matSnackBar=r,this.mensaje="",this.builform()}ngOnInit(){}builform(){var o,n,a,r;this.form=new s.cw({nombre:new s.NI(null===(o=this.data)||void 0===o?void 0:o.nombreSede,s.kI.required),descripcion:new s.NI(null===(n=this.data)||void 0===n?void 0:n.descripcion,s.kI.required),direccion:new s.NI(null===(a=this.data)||void 0===a?void 0:a.direccion,s.kI.required),beacon:new s.NI(null===(r=this.data)||void 0===r?void 0:r.beacon,s.kI.required)})}onSave(){if(!this.form.valid)return void this.matSnackBar.open("Ingresar datos requeridos","Cerrar",{duration:3e3,verticalPosition:"top",horizontalPosition:"end"});const o=this.form.getRawValue(),n={idSede:this.data?this.data.idSede:0,nombreSede:o.nombre,descripcion:o.descripcion,direccion:o.direccion,beacon:o.beacon};console.log("newSede",n),this.data?(this.mensaje="Sede actualizada con \xe9xito.",this.apiService.updateSede(n).subscribe(a=>{a&&(this.matSnackBar.open(this.mensaje,"Cerrar",{duration:3e3,verticalPosition:"top",horizontalPosition:"end"}),this.dialogRef.close(!0))})):(this.mensaje="Sede registrada con \xe9xito.",this.apiService.saveSede(n).subscribe(a=>{a&&(this.matSnackBar.open(this.mensaje,"Cerrar",{duration:3e3,verticalPosition:"top",horizontalPosition:"end"}),this.dialogRef.close(!0))}))}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(c.so),e.Y36(c.WI),e.Y36(g),e.Y36(C.ux))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-registro-sede"]],decls:36,vars:5,consts:[[1,"dialog-content-wrapper"],["mat-dialog-title",""],[1,"flex","flex-row","sm:items-center","sm:justify-between"],["tabindex","-1","mat-icon-button","","mat-dialog-close",""],["mat-dialog-content","",1,"mt-3"],[3,"formGroup"],[1,"fuse-mat-no-subscript","w-full"],["type","text","matInput","","formControlName","nombre"],[4,"ngIf"],[1,"fuse-mat-no-subscript","w-full","mt-4"],["type","text","matInput","","formControlName","descripcion"],["type","text","matInput","","formControlName","direccion"],["type","text","matInput","","formControlName","beacon"],["mat-dialog-actions","","align","end"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","mat-dialog-close","","color","accent"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"mat-toolbar",1),e.TgZ(2,"div",2),e.TgZ(3,"div"),e.TgZ(4,"span"),e._uU(5,"Registro Sede"),e.qZA(),e.qZA(),e.TgZ(6,"button",3),e.TgZ(7,"mat-icon"),e._uU(8,"close"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",4),e.TgZ(10,"form",5),e.TgZ(11,"mat-form-field",6),e.TgZ(12,"mat-label"),e._uU(13,"Nombre Sede"),e.qZA(),e._UZ(14,"input",7),e.qZA(),e.YNc(15,x,2,0,"mat-error",8),e.TgZ(16,"mat-form-field",9),e.TgZ(17,"mat-label"),e._uU(18,"Descripcion"),e.qZA(),e._UZ(19,"textarea",10),e.qZA(),e.YNc(20,A,2,0,"mat-error",8),e.TgZ(21,"mat-form-field",9),e.TgZ(22,"mat-label"),e._uU(23,"Direccion"),e.qZA(),e._UZ(24,"input",11),e.qZA(),e.YNc(25,q,2,0,"mat-error",8),e.TgZ(26,"mat-form-field",9),e.TgZ(27,"mat-label"),e._uU(28,"Beacon"),e.qZA(),e._UZ(29,"input",12),e.qZA(),e.YNc(30,N,2,0,"mat-error",8),e.qZA(),e.qZA(),e.TgZ(31,"div",13),e.TgZ(32,"button",14),e.NdJ("click",function(){return n.onSave()}),e._uU(33,"GRABAR"),e.qZA(),e.TgZ(34,"button",15),e._uU(35,"CANCELAR"),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(10),e.Q6J("formGroup",n.form),e.xp6(5),e.Q6J("ngIf",(null==n.form.controls.nombre.errors?null:n.form.controls.nombre.errors.required)&&n.form.controls.nombre.touched),e.xp6(5),e.Q6J("ngIf",(null==n.form.controls.descripcion.errors?null:n.form.controls.descripcion.errors.required)&&n.form.controls.descripcion.touched),e.xp6(5),e.Q6J("ngIf",(null==n.form.controls.direccion.errors?null:n.form.controls.direccion.errors.required)&&n.form.controls.direccion.touched),e.xp6(5),e.Q6J("ngIf",(null==n.form.controls.beacon.errors?null:n.form.controls.beacon.errors.required)&&n.form.controls.beacon.touched))},directives:[c.uh,h.lW,c.ZT,Z.Hw,c.xY,s._Y,s.JL,s.sg,m.KE,m.hX,S.Nt,s.Fj,s.JJ,s.u,p.O5,c.H8,m.TO],styles:[""]}),t})();var B=d(4034),w=d(7444),l=d(960),T=d(2968);function j(t,i){1&t&&(e.TgZ(0,"th",33),e._uU(1," NOMBRE "),e.qZA())}function I(t,i){if(1&t&&(e.TgZ(0,"td",34),e.TgZ(1,"span",35),e._uU(2),e.qZA(),e.qZA()),2&t){const o=i.$implicit;e.xp6(2),e.hij(" ",o.nombreSede," ")}}function R(t,i){1&t&&(e.TgZ(0,"th",33),e._uU(1," DESCRIPCION "),e.qZA())}function y(t,i){if(1&t&&(e.TgZ(0,"td",34),e.TgZ(1,"span",35),e._uU(2),e.qZA(),e.qZA()),2&t){const o=i.$implicit;e.xp6(2),e.hij(" ",o.descripcion," ")}}function U(t,i){1&t&&(e.TgZ(0,"th",33),e._uU(1," DIRECCION "),e.qZA())}function J(t,i){if(1&t&&(e.TgZ(0,"td",34),e.TgZ(1,"span",35),e._uU(2),e.qZA(),e.qZA()),2&t){const o=i.$implicit;e.xp6(2),e.hij(" ",o.direccion," ")}}function Y(t,i){1&t&&(e.TgZ(0,"th",33),e._uU(1," BEACON "),e.qZA())}function D(t,i){if(1&t&&(e.TgZ(0,"td",34),e.TgZ(1,"span",35),e._uU(2),e.qZA(),e.qZA()),2&t){const o=i.$implicit;e.xp6(2),e.hij(" ",o.beacon," ")}}function Q(t,i){1&t&&(e.TgZ(0,"th",36),e._uU(1," ACCI\xd3N "),e.qZA())}function k(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"td",37),e.TgZ(1,"button",38),e.NdJ("click",function(){const r=e.CHM(o).$implicit;return e.oxw(2).onEditSede(r)}),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA(),e.qZA(),e.TgZ(4,"button",39),e.NdJ("click",function(){const r=e.CHM(o).$implicit;return e.oxw(2).onDeleteSede(r.idSede)}),e.TgZ(5,"mat-icon"),e._uU(6,"delete"),e.qZA(),e.qZA(),e.qZA()}}function z(t,i){1&t&&e._UZ(0,"tr",40)}function M(t,i){1&t&&e._UZ(0,"tr",41)}const E=function(){return[5,10,15,20]};function O(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",18),e.TgZ(1,"div",19),e.TgZ(2,"table",20),e.ynx(3,21),e.YNc(4,j,2,0,"th",22),e.YNc(5,I,3,1,"td",23),e.BQk(),e.ynx(6,24),e.YNc(7,R,2,0,"th",22),e.YNc(8,y,3,1,"td",23),e.BQk(),e.ynx(9,25),e.YNc(10,U,2,0,"th",22),e.YNc(11,J,3,1,"td",23),e.BQk(),e.ynx(12,26),e.YNc(13,Y,2,0,"th",22),e.YNc(14,D,3,1,"td",23),e.BQk(),e.ynx(15,27),e.YNc(16,Q,2,0,"th",28),e.YNc(17,k,7,0,"td",29),e.BQk(),e.YNc(18,z,1,0,"tr",30),e.YNc(19,M,1,0,"tr",31),e.qZA(),e.qZA(),e.TgZ(20,"mat-paginator",32),e.NdJ("page",function(a){return e.CHM(o),e.oxw().onChangePagination(a)}),e.qZA(),e.qZA()}if(2&t){const o=e.oxw();e.xp6(2),e.Q6J("dataSource",o.tableSede.content),e.xp6(16),e.Q6J("matHeaderRowDef",o.displayedColumnsSede),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumnsSede),e.xp6(1),e.Q6J("length",o.tableSede.totalElements)("pageSize",o.tableSede.size)("pageSizeOptions",e.DdM(6,E))}}function L(t,i){1&t&&(e.TgZ(0,"div"),e.TgZ(1,"div",42),e._uU(2,"\xa1No hay datos!"),e.qZA(),e.qZA())}let P=(()=>{class t{constructor(o,n,a){this.dialog=o,this.apiService=n,this._fuseConfirmationService=a,this.displayedColumnsSede=["nombreSede","descripcion","direccion","beacon","accion"],this.nombreSede="",this.pagina=0,this.size=10}ngOnInit(){this.onLoadTableSede()}onRefresh(){this.nombreSede="",this.onLoadTableSede()}onAddSede(){this.dialog.open(_,{width:"400px"}).afterClosed().subscribe(n=>{n&&this.onLoadTableSede()})}onLoadTableSede(){this.apiService.listSede(this.pagina,this.size,this.nombreSede).subscribe(o=>{o&&(this.tableSede=o.data)})}onChangePagination(o){this.pagina=o.pageIndex,this.size=o.pageSize,this.apiService.listSede(this.pagina,this.size,this.nombreSede).subscribe(n=>{this.tableSede=n.data})}onEditSede(o){this.dialog.open(_,{width:"400px",data:o}).afterClosed().subscribe(a=>{a&&this.onLoadTableSede()})}onDeleteSede(o){this._fuseConfirmationService.delete().afterClosed().subscribe(a=>{"confirmed"==a&&this.apiService.deleteSede(o).subscribe(r=>{this.onLoadTableSede()})})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(c.uw),e.Y36(g),e.Y36(B.R))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-bandeja-sedes"]],decls:22,vars:8,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"bg-card"],[1,"flex","flex-col","w-full","max-w-screen-xl","mx-auto","px-6","sm:px-8"],[1,"flex","flex-col","sm:flex-row","flex-auto","sm:items-center","min-w-0","my-8"],[1,"flex","flex-auto","items-center","min-w-0"],[1,"flex","flex-col","min-w-0"],[1,"text-4xl","font-extrabold","tracking-tight","leading-none"],[1,"flex","items-center","mt-6","sm:mt-0","sm:ml-2","space-x-3"],[1,"fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","min-w-50"],["mat-icon-button","","type","button","matPrefix","",3,"click"],[1,"icon-size-5",3,"svgIcon"],["matInput","","matTooltip","Presione Enter para buscar",3,"autocomplete","placeholder","ngModel","ngModelChange","keyup.enter"],["mat-flat-button","",1,"fuse-mat-button-rounded",3,"color","click"],[1,"ml-2"],[1,"flex-auto","p-6","sm:p-10"],[1,"flex","flex-col","p-2","pb-4","bg-card","rounded-2xl","shadow","overflow-hidden"],["class","example-container",4,"ngIf"],[4,"ngIf"],[1,"example-container"],[1,"flex"],["mat-table","","multiTemplateDataRows","",3,"dataSource"],["matColumnDef","nombreSede"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","descripcion"],["matColumnDef","direccion"],["matColumnDef","beacon"],["matColumnDef","accion"],["mat-header-cell","","class","width-action",4,"matHeaderCellDef"],["mat-cell","","class","width-action",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell",""],["mat-cell",""],[1,"pr-6","whitespace-nowrap"],["mat-header-cell","",1,"width-action"],["mat-cell","",1,"width-action"],["mat-icon-button","","matTooltip","Editar registro",3,"click"],["mat-icon-button","","matTooltip","Eliminar registro",3,"click"],["mat-header-row",""],["mat-row",""],[1,"text-3xl","pt-2","font-semibold","tracking-tight","text-center"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e._uU(7,"Lista de sedes"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",7),e.TgZ(9,"div"),e.TgZ(10,"mat-form-field",8),e.TgZ(11,"button",9),e.NdJ("click",function(){return n.onRefresh()}),e._UZ(12,"mat-icon",10),e.qZA(),e.TgZ(13,"input",11),e.NdJ("ngModelChange",function(r){return n.nombreSede=r})("keyup.enter",function(){return n.onLoadTableSede()}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"button",12),e.NdJ("click",function(){return n.onAddSede()}),e._UZ(15,"mat-icon",10),e.TgZ(16,"span",13),e._uU(17,"Agregar Sede"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",14),e.TgZ(19,"div",15),e.YNc(20,O,21,7,"div",16),e.YNc(21,L,3,0,"div",17),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(12),e.Q6J("svgIcon","heroicons_solid:x"),e.xp6(1),e.Q6J("autocomplete","off")("placeholder","Buscar por nombre")("ngModel",n.nombreSede),e.xp6(1),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:document-add"),e.xp6(5),e.Q6J("ngIf",!!n.tableSede&&!n.tableSede.empty),e.xp6(1),e.Q6J("ngIf",!!n.tableSede&&n.tableSede.empty))},directives:[m.KE,h.lW,m.qo,Z.Hw,S.Nt,s.Fj,w.gM,s.JJ,s.On,p.O5,l.BZ,l.w1,l.fO,l.Dz,l.as,l.nj,T.NW,l.ge,l.ev,l.XQ,l.Gk],styles:["table[_ngcontent-%COMP%]{width:100%}.width-action[_ngcontent-%COMP%]{width:150px}"]}),t})();var $=d(495),F=d(3072),H=d(9367);const G=[{path:"",component:P}];let W=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[{provide:T.ye,useClass:F.N}],imports:[[p.ez,v.Bz.forChild(G),$.q,H.m]]}),t})()}}]);
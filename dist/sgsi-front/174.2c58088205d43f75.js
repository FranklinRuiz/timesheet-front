"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[174],{1174:(F,p,i)=>{i.r(p),i.d(p,{CargoModule:()=>O});var m=i(6019),s=i(9133),c=i(5304),o=i(3668),u=i(4522),b=i(8260);let C=(()=>{class e{constructor(t){this.http=t,this.url=b.N.apiurl}listCargo(t,a,r){let l=new u.LE;return l=l.append("page",t),l=l.append("size",a),l=l.append("nombre",r),l=l.append("sort","idCargo,desc"),this.http.get(`${this.url}/api/cargo/list`,{params:l})}saveCargo(t){return this.http.post(`${this.url}/api/cargo/save`,t)}updateCargo(t){return this.http.put(`${this.url}/api/cargo/update`,t)}deleteCargo(t){return this.http.delete(`${this.url}/api/cargo/delete/${t}`)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(u.eN))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var x=i(9966),f=i(86),h=i(9112),d=i(8167),Z=i(138);function _(e,n){1&e&&(o.TgZ(0,"mat-error"),o._uU(1," Codigo es obligatorio "),o.qZA())}function A(e,n){1&e&&(o.TgZ(0,"mat-error"),o._uU(1," Nombre es obligatorio "),o.qZA())}let v=(()=>{class e{constructor(t,a,r,l){this.dialogRef=t,this.data=a,this.apiService=r,this.matSnackBar=l,this.mensaje="",this.builform()}ngOnInit(){}builform(){var t,a;this.form=new s.cw({codigoCargo:new s.NI(null===(t=this.data)||void 0===t?void 0:t.codigoCargo,s.kI.required),nombreCargo:new s.NI(null===(a=this.data)||void 0===a?void 0:a.nombreCargo,s.kI.required)})}onSave(){if(!this.form.valid)return void this.matSnackBar.open("Por favor, completa el formulario.","Cerrar",{duration:3e3,verticalPosition:"top",horizontalPosition:"end"});const t=this.form.getRawValue(),a={idCargo:this.data?this.data.idCargo:0,codigoCargo:t.codigoCargo,nombreCargo:t.nombreCargo};this.data?(this.mensaje="Cargo actualizado con \xe9xito.",this.apiService.updateCargo(a).subscribe(r=>{r&&(this.matSnackBar.open(this.mensaje,"Cerrar",{duration:3e3,verticalPosition:"top",horizontalPosition:"end"}),this.dialogRef.close(!0))})):(this.mensaje="Cargo registrado con \xe9xito.",this.apiService.saveCargo(a).subscribe(r=>{r&&(this.matSnackBar.open(this.mensaje,"Cerrar",{duration:3e3,verticalPosition:"top",horizontalPosition:"end"}),this.dialogRef.close(!0))}))}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(c.so),o.Y36(c.WI),o.Y36(C),o.Y36(x.ux))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-registro-cargo"]],decls:26,vars:3,consts:[[1,"dialog-content-wrapper"],["mat-dialog-title",""],[1,"flex","flex-row","sm:items-center","sm:justify-between"],["tabindex","-1","mat-icon-button","","mat-dialog-close",""],["mat-dialog-content","",1,"mt-3"],[3,"formGroup"],[1,"fuse-mat-no-subscript","w-full"],["matInput","","formControlName","codigoCargo"],[4,"ngIf"],[1,"fuse-mat-no-subscript","w-full","mt-4"],["matInput","","formControlName","nombreCargo"],["mat-dialog-actions","","align","end"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","mat-dialog-close","","color","accent"]],template:function(t,a){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"mat-toolbar",1),o.TgZ(2,"div",2),o.TgZ(3,"div"),o.TgZ(4,"span"),o._uU(5,"Registro Cargo"),o.qZA(),o.qZA(),o.TgZ(6,"button",3),o.TgZ(7,"mat-icon"),o._uU(8,"close"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(9,"div",4),o.TgZ(10,"form",5),o.TgZ(11,"mat-form-field",6),o.TgZ(12,"mat-label"),o._uU(13,"Codigo"),o.qZA(),o._UZ(14,"input",7),o.qZA(),o.YNc(15,_,2,0,"mat-error",8),o.TgZ(16,"mat-form-field",9),o.TgZ(17,"mat-label"),o._uU(18,"Nombre"),o.qZA(),o._UZ(19,"input",10),o.qZA(),o.YNc(20,A,2,0,"mat-error",8),o.qZA(),o.qZA(),o.TgZ(21,"div",11),o.TgZ(22,"button",12),o.NdJ("click",function(){return a.onSave()}),o._uU(23,"GRABAR"),o.qZA(),o.TgZ(24,"button",13),o._uU(25,"CANCELAR"),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(10),o.Q6J("formGroup",a.form),o.xp6(5),o.Q6J("ngIf",(null==a.form.controls.codigoCargo.errors?null:a.form.controls.codigoCargo.errors.required)&&a.form.controls.codigoCargo.touched),o.xp6(5),o.Q6J("ngIf",(null==a.form.controls.nombreCargo.errors?null:a.form.controls.nombreCargo.errors.required)&&a.form.controls.nombreCargo.touched))},directives:[c.uh,f.lW,c.ZT,h.Hw,c.xY,s._Y,s.JL,s.sg,d.KE,d.hX,Z.Nt,s.Fj,s.JJ,s.u,m.O5,c.H8,d.TO],styles:[".dialog-content-wrapper[_ngcontent-%COMP%]{max-height:87vh}.width-input[_ngcontent-%COMP%]{width:100%}"]}),e})();var w=i(4034),q=i(7444),g=i(960),T=i(2968);function N(e,n){1&e&&(o.TgZ(0,"th",31),o._uU(1," Codigo "),o.qZA())}function j(e,n){if(1&e&&(o.TgZ(0,"td",32),o.TgZ(1,"span",33),o._uU(2),o.qZA(),o.qZA()),2&e){const t=n.$implicit;o.xp6(2),o.hij(" ",t.codigoCargo," ")}}function B(e,n){1&e&&(o.TgZ(0,"th",31),o._uU(1," Nombre "),o.qZA())}function R(e,n){if(1&e&&(o.TgZ(0,"td",32),o.TgZ(1,"span",33),o._uU(2),o.qZA(),o.qZA()),2&e){const t=n.$implicit;o.xp6(2),o.hij(" ",t.nombreCargo," ")}}function y(e,n){1&e&&(o.TgZ(0,"th",34),o._uU(1," Acciones "),o.qZA())}function J(e,n){if(1&e){const t=o.EpF();o.TgZ(0,"td",35),o.TgZ(1,"button",36),o.NdJ("click",function(){const l=o.CHM(t).$implicit;return o.oxw(2).onEditCargo(l)}),o.TgZ(2,"mat-icon"),o._uU(3,"edit"),o.qZA(),o.qZA(),o.TgZ(4,"button",37),o.NdJ("click",function(){const l=o.CHM(t).$implicit;return o.oxw(2).onDeleteCargo(l.idCargo)}),o.TgZ(5,"mat-icon"),o._uU(6,"delete"),o.qZA(),o.qZA(),o.qZA()}}function S(e,n){1&e&&o._UZ(0,"tr",38)}function U(e,n){1&e&&o._UZ(0,"tr",39)}const I=function(){return[5,10,15,20]};function Y(e,n){if(1&e){const t=o.EpF();o.TgZ(0,"div",18),o.TgZ(1,"div",19),o.TgZ(2,"table",20),o.ynx(3,21),o.YNc(4,N,2,0,"th",22),o.YNc(5,j,3,1,"td",23),o.BQk(),o.ynx(6,24),o.YNc(7,B,2,0,"th",22),o.YNc(8,R,3,1,"td",23),o.BQk(),o.ynx(9,25),o.YNc(10,y,2,0,"th",26),o.YNc(11,J,7,0,"td",27),o.BQk(),o.YNc(12,S,1,0,"tr",28),o.YNc(13,U,1,0,"tr",29),o.qZA(),o.qZA(),o.TgZ(14,"mat-paginator",30),o.NdJ("page",function(r){return o.CHM(t),o.oxw().onChangePagination(r)}),o.qZA(),o.qZA()}if(2&e){const t=o.oxw();o.xp6(2),o.Q6J("dataSource",t.tableCargo.content),o.xp6(10),o.Q6J("matHeaderRowDef",t.displayedColumnsCargo),o.xp6(1),o.Q6J("matRowDefColumns",t.displayedColumnsCargo),o.xp6(1),o.Q6J("length",t.tableCargo.totalElements)("pageSize",t.tableCargo.size)("pageSizeOptions",o.DdM(6,I))}}function z(e,n){1&e&&(o.TgZ(0,"div"),o.TgZ(1,"div",40),o._uU(2,"\xa1No hay datos!"),o.qZA(),o.qZA())}let M=(()=>{class e{constructor(t,a,r){this.dialog=t,this.apiService=a,this._fuseConfirmationService=r,this.displayedColumnsCargo=["codigoCargo","nombreCargo","accion"],this.nombreCargo="",this.pagina=0,this.size=10}ngOnInit(){this.onLoadTableCargo()}onRefresh(){this.nombreCargo="",this.onLoadTableCargo()}onAddCargo(){this.dialog.open(v,{width:"500px"}).afterClosed().subscribe(a=>{a&&this.onLoadTableCargo()})}onLoadTableCargo(){this.apiService.listCargo(this.pagina,this.size,this.nombreCargo).subscribe(t=>{t&&(this.tableCargo=t.data)})}onChangePagination(t){this.pagina=t.pageIndex,this.size=t.pageSize,this.apiService.listCargo(this.pagina,this.size,this.nombreCargo).subscribe(a=>{this.tableCargo=a.data})}onEditCargo(t){this.dialog.open(v,{width:"500px",data:t}).afterClosed().subscribe(r=>{r&&this.onLoadTableCargo()})}onDeleteCargo(t){this._fuseConfirmationService.delete().afterClosed().subscribe(r=>{"confirmed"==r&&this.apiService.deleteCargo(t).subscribe(l=>{this.onLoadTableCargo()})})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(c.uw),o.Y36(C),o.Y36(w.R))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-bandeja-cargo"]],decls:22,vars:8,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"bg-card"],[1,"flex","flex-col","w-full","max-w-screen-xl","mx-auto","px-6","sm:px-8"],[1,"flex","flex-col","sm:flex-row","flex-auto","sm:items-center","min-w-0","my-8"],[1,"flex","flex-auto","items-center","min-w-0"],[1,"flex","flex-col","min-w-0"],[1,"text-4xl","font-extrabold","tracking-tight","leading-none"],[1,"flex","items-center","mt-6","sm:mt-0","sm:ml-2","space-x-3"],[1,"fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","min-w-50"],["mat-icon-button","","type","button","matPrefix","",3,"click"],[1,"icon-size-5",3,"svgIcon"],["matInput","","matTooltip","Presione Enter para buscar",3,"autocomplete","placeholder","ngModel","ngModelChange","keyup.enter"],["mat-flat-button","",1,"fuse-mat-button-rounded",3,"color","click"],[1,"ml-2"],[1,"flex-auto","p-6","sm:p-10"],[1,"flex","flex-col","p-2","pb-4","bg-card","rounded-2xl","shadow","overflow-hidden"],["class","example-container",4,"ngIf"],[4,"ngIf"],[1,"example-container"],[1,"flex"],["mat-table","","multiTemplateDataRows","",3,"dataSource"],["matColumnDef","codigoCargo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombreCargo"],["matColumnDef","accion"],["mat-header-cell","","class","width-action",4,"matHeaderCellDef"],["mat-cell","","class","width-action",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell",""],["mat-cell",""],[1,"pr-6","whitespace-nowrap"],["mat-header-cell","",1,"width-action"],["mat-cell","",1,"width-action"],["mat-icon-button","","matTooltip","Editar registro",3,"click"],["mat-icon-button","","matTooltip","Eliminar registro",3,"click"],["mat-header-row",""],["mat-row",""],[1,"text-3xl","pt-2","font-semibold","tracking-tight","text-center"]],template:function(t,a){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"div",5),o.TgZ(6,"div",6),o._uU(7,"Lista de cargos"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8,"div",7),o.TgZ(9,"div"),o.TgZ(10,"mat-form-field",8),o.TgZ(11,"button",9),o.NdJ("click",function(){return a.onRefresh()}),o._UZ(12,"mat-icon",10),o.qZA(),o.TgZ(13,"input",11),o.NdJ("ngModelChange",function(l){return a.nombreCargo=l})("keyup.enter",function(){return a.onLoadTableCargo()}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"button",12),o.NdJ("click",function(){return a.onAddCargo()}),o._UZ(15,"mat-icon",10),o.TgZ(16,"span",13),o._uU(17,"Nuevo Cargo"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(18,"div",14),o.TgZ(19,"div",15),o.YNc(20,Y,15,7,"div",16),o.YNc(21,z,3,0,"div",17),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(12),o.Q6J("svgIcon","heroicons_solid:x"),o.xp6(1),o.Q6J("autocomplete","off")("placeholder","Buscar por nombre... ")("ngModel",a.nombreCargo),o.xp6(1),o.Q6J("color","primary"),o.xp6(1),o.Q6J("svgIcon","heroicons_solid:document-add"),o.xp6(5),o.Q6J("ngIf",!a.tableCargo.empty),o.xp6(1),o.Q6J("ngIf",a.tableCargo.empty))},directives:[d.KE,f.lW,d.qo,h.Hw,Z.Nt,s.Fj,q.gM,s.JJ,s.On,m.O5,g.BZ,g.w1,g.fO,g.Dz,g.as,g.nj,T.NW,g.ge,g.ev,g.XQ,g.Gk],styles:["table[_ngcontent-%COMP%]{width:100%}.width-action[_ngcontent-%COMP%]{width:150px}"]}),e})();var D=i(1553),Q=i(495),k=i(9367),P=i(3072);const L=[{path:"",component:M}];let O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[{provide:T.ye,useClass:P.N}],imports:[[m.ez,D.Bz.forChild(L),Q.q,k.m]]}),e})()}}]);